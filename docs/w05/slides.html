<!DOCTYPE html>
<html lang="en"><head>
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.33">

  <meta name="author" content="Amit Arora and Jeff Jacobs">
  <title>DSAN 6000 Slide Hub – Week 5: Data Engineering</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-f1a2fbe10646af64ab771edae1b2cadf.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/simplemenu/simplemenu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/dreampulse/computer-modern-web-font@master/fonts.css"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 5: Data Engineering</h1>
  <p class="subtitle"><em>DSAN 6000: Big Data and Cloud Computing</em><br>Fall 2025</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Amit Arora and Jeff Jacobs 
</div>
        <p class="quarto-title-affiliation">
            <a href="mailto:jj1088@georgetown.edu" target="_blank"><code>jj1088@georgetown.edu</code></a>
          </p>
    </div>
</div>

  <p class="date">Monday, September 22, 2025</p>
</section>
<section id="agenda" class="slide level2">
<h2>Agenda</h2>
<div class="column" style="width:47%;">
<h3 id="looking-back">Looking Back</h3>
<ul>
<li>Introduction to cloud</li>
<li>Python Multiprocessing &amp; async</li>
<li>Duckdb, Polars</li>
</ul>
<h3 id="future">Future</h3>
<ul>
<li>Project introduction</li>
<li>Spark dataframe, ML, NLP</li>
</ul>
</div><div class="column" style="width:47%;">
<h3 id="today">Today</h3>
<ul>
<li>Data Engineering
<ul>
<li>Data Lakes, Warehouses</li>
<li>NoSQL Databases</li>
</ul></li>
<li>Lab:
<ul>
<li>Athena</li>
<li>EC2</li>
</ul></li>
</ul>
</div></section>
<section>
<section id="data-engineering" class="title-slide slide level1 section center">
<h1>Data Engineering</h1>

</section>
<section id="what-is-data-engineering" class="slide level2">
<h2>What is Data Engineering?</h2>
<p>As the scale of the data grew, the existing ETL processes alone were not sufficient, a separate discipline was needed for:</p>
<ul>
<li>Collecting data</li>
<li>Managing storage</li>
<li>Cataloging</li>
<li>Making it available for applications such as analytics &amp; machine learning)</li>
<li>Security</li>
<li>Lifecycle management</li>
<li>And more…</li>
</ul>
<blockquote>
<p><b><a href="https://en.wikipedia.org/wiki/Data_engineering">From Wikipedia</a>:</b> Data engineering refers to the building of systems to enable the collection and usage of data. This data is usually used to enable subsequent analysis and data science; which often involves machine learning. Making the data usable usually involves substantial compute and storage, as well as data processing and cleaning.</p>
</blockquote>
</section>
<section id="what-do-data-engineers-do" class="slide level2">
<h2>What do Data Engineers do?</h2>
<p>Data engineers build systems that collect data from different sources and make this data available for analytics and ML application. This usually involves the following:</p>
<ul>
<li><p><strong>Acquisition</strong>: Finding all the different datasets around the business.</p>
<ul>
<li>These could be availble in databases, shared drives, ingested directly from IoT devices, external datasets, and more.</li>
</ul></li>
<li><p><strong>Cleansing</strong>: The raw data usually cannot be used as is, it needs to be cleaned.</p></li>
<li><p><strong>Conversion</strong>: Since the data is coming from different sources, it would probably in different formats (database tables, CSV, JSON, custom). Needs to be converted into a common format (such as parquet) before it becomes usable.</p>
<ul>
<li>Multiple datasets need to be joined together to answer a business question.</li>
</ul></li>
</ul>
</section>
<section id="what-do-data-engineers-do-contd." class="slide level2">
<h2>What do Data Engineers do (contd.)?</h2>
<ul>
<li><p><strong>Disambiguation</strong>: How to interpret what the data means? Use a data catalog and then with the help of subject matter experts (often called <em>Data Stewards</em>) add meaningful description to the datasets.</p></li>
<li><p><strong>Deduplication</strong>: Having a single source of truth!</p></li>
<li><p><strong>Data Governance</strong>: for how long to store the data, how to enforce access controls (<a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">Principle of least privilege</a>) etc.</p></li>
</ul>
<p>Once this is done, data may be stored in a central repository such as a <strong>data lake</strong> or <strong>data lakehouse</strong>. Data engineers may also copy and move subsets of data into a data warehouse.</p>
</section>
<section id="data-engineering-tools-technologies" class="slide level2">
<h2>Data engineering tools &amp; technologies</h2>
<p>Data engineers work with a variety of tools and technologies, including:</p>
<ul>
<li><strong>ETL Tools</strong>: ETL (extract, transform, load) tools move data between systems. They access data, then apply rules to “transform” the data through steps that make it more suitable for analysis.</li>
<li><strong>SQL</strong>: Structured Query Language (SQL) is the standard language for querying relational databases.</li>
<li><strong>Python</strong>: Python is a general programming language. Data engineers may choose to use Python for ETL tasks. Spark (pyspark) for Big Data, Apache Flink for streaming data.</li>
<li><strong>Cloud Data Storage</strong>: Including Amazon S3, Azure Data Lake Storage (ADLS), Google Cloud Storage, etc.</li>
<li><strong>Cloud Data Warehouses</strong>: Data ready for use by data scientists and analysts is stored in data warehouses, such as Amazon Redshift, Google BigQuery, Azure Data Warehouse, Snowflake etc.</li>
</ul>
</section>
<section id="popular-data-engineering-tools" class="slide level2">
<h2>Popular Data engineering tools</h2>

<img data-src="images/de-tools.png" class="r-stretch"><p>Source: https://www.secoda.co/blog/the-top-20-most-commonly-used-data-engineering-tools</p>
</section>
<section id="data-lakes" class="slide level2">
<h2>Data Lakes</h2>
<p><a href="images/data-lake.png"></a></p>
<blockquote>
<p><strong><a href="https://en.wikipedia.org/wiki/Data_lake">From Wikipedia</a></strong>: A data lake is a system or repository of data stored in its natural/raw format, usually object blobs or files. A data lake is usually a single store of data including raw copies of source system data, sensor data, social data etc., and transformed data used for tasks such as reporting, visualization, advanced analytics and machine learning. A data lake can include structured data from relational databases (rows and columns), semi-structured data (CSV, logs, XML, JSON), unstructured data (emails, documents, PDFs) and binary data (images, audio, video).</p>
</blockquote>
</section>
<section id="data-lake-cloud-provider-definitions" class="slide level2">
<h2>Data Lake (Cloud Provider Definitions)</h2>
<p>Definitions in the wild (<strong>emphasis mine</strong>).</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong><a href="https://aws.amazon.com/big-data/datalakes-and-analytics/what-is-a-data-lake/">AWS</a></strong><br>
A data lake is a <strong>centralized repository</strong> that allows you to store all your <strong>structured and unstructured</strong> data at any scale. You can store your data as-is, without having to first structure the data, and run different types of analytics—from dashboards and visualizations to big data processing, real-time <strong>analytics</strong>, and machine learning to guide better decisions.</p>
</div><div class="column" style="width:50%;">
<p><strong><a href="https://cloud.google.com/learn/what-is-a-data-lake">GCP</a></strong><br>
A data lake provides a <strong>scalable and secure platform</strong> that allows enterprises to: ingest <strong>any data from any system at any speed</strong>—even if the data comes from on-premises, cloud, or edge-computing systems; store any type or volume of data in full fidelity; process data in real time or batch mode; and analyze data using SQL, Python, R, or any other language, third-party data, or <strong>analytics</strong> application.</p>
</div><div class="column" style="width:50%;">
<p><strong><a href="https://azure.microsoft.com/en-us/solutions/data-lake/">Azure</a></strong><br>
Azure Data Lake includes all the capabilities required to make it easy for developers, data scientists, and analysts to <strong>store data of any size, shape, and speed</strong>, and do all types of processing and <strong>analytics</strong> across platforms and languages.</p>
</div><div class="column" style="width:50%;">
<p><strong><a href="https://www.databricks.com/discover/data-lakes/introduction">DataBricks</a></strong><br>
A data lake is a central location that holds a <strong>large amount of data</strong> in its native, <strong>raw format</strong>. Compared to a hierarchical data warehouse, which stores data in files or folders, a data lake uses a flat architecture and <strong>object storage</strong> to store the data.‍</p>
</div></div>
</section>
<section id="working-with-a-cloud-data-lake" class="slide level2">
<h2>Working with a Cloud Data Lake</h2>
<p>A cloud data lake is setup using the cloud provider’s object store (S3, GCS, Azure Blob Storage).</p>
<ul>
<li><p>The object stores are extremely scalable, for context, the maximum size of an object in S3 is 5 TB and <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/BucketRestrictions.html">there is no limit to number of objects in an S3 bucket</a>.</p></li>
<li><p>They are extremely duarable, 99.999999999%. Provide strong consistency (read-after-write, listing buckets and objects, granting permissions etc.).</p></li>
<li><p>Cost effective, with <a href="https://aws.amazon.com/s3/storage-classes/">multiple storage classes</a>.</p></li>
<li><p>Integration with data processing tools such as Spark, machine learning tools such as SageMaker, data warehouses such as RedShift and data cataloging tools.</p></li>
<li><p>They provide <em>Fine Grained Access Control</em> to the data.</p></li>
</ul>
</section>
<section id="data-warehouses" class="slide level2">
<h2>Data Warehouses</h2>

<img data-src="images/data-warehouse.png" class="r-stretch"><blockquote>
<p><strong><a href="https://en.wikipedia.org/wiki/Data_warehouse">From Wikipedia</a></strong>: In computing, a data warehouse (DW or DWH), also known as an enterprise data warehouse (EDW), is a system used for reporting and data analysis and is considered a core component of business intelligence. DWs are central repositories of integrated data from one or more disparate sources. They store current and historical data in one single place that are used for creating analytical reports for workers throughout the enterprise.</p>
</blockquote>
</section>
<section id="data-warehouse-cloud-provider-definitions" class="slide level2">
<h2>Data Warehouse (Cloud Provider Definitions)</h2>
<p>Definitions in the wild (<strong>emphasis mine</strong>).</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong><a href="https://aws.amazon.com/data-warehouse/">AWS</a></strong><br>
A data warehouse is a <strong>central repository</strong> of information that can be analyzed to make more informed decisions. <strong>Data flows into a data warehouse</strong> from transactional systems, relational databases, and other sources, typically <strong>on a regular cadence</strong>. Business analysts, data engineers, data scientists, and decision makers <strong>access the data through business intelligence (BI) tools, SQL clients, and other analytics applications</strong>.</p>
<p><strong><a href="https://learn.microsoft.com/en-us/azure/architecture/data-guide/relational-data/data-warehousing">Azure</a></strong><br>
A data warehouse is a <strong>centralized repository</strong> of integrated data from one or more <strong>disparate sources</strong>. Data warehouses store current and historical data and are used for <strong>reporting and analysis</strong> of the data.</p>
</div><div class="column" style="width:50%;">
<p><strong><a href="https://cloud.google.com/learn/what-is-a-data-warehouse">GCP</a></strong><br>
A data warehouse is an <strong>enterprise system</strong> used for the <strong>analysis and reporting</strong> of structured and semi-structured data from <strong>multiple sources</strong>, such as point-of-sale transactions, marketing automation, customer relationship management, and more.</p>
<p><strong><a href="https://www.snowflake.com/data-cloud-glossary/data-warehousing">Snowflake</a></strong><br>
A data warehouse (DW) is a <strong>relational database</strong> that is designed for <strong>analytical rather than transactional work</strong>. It collects and aggregates data from one or many sources so it can be analyzed to produce business insights.</p>
</div></div>
</section>
<section id="working-with-a-cloud-data-warehouse" class="slide level2">
<h2>Working with a Cloud Data Warehouse</h2>
<p>All cloud providers provide a data warehouse solution that works in conjunction with their data lake solution.</p>
<ul>
<li><p>AWS has <a href="https://aws.amazon.com/pm/redshift/">Redshift</a>, Azure has <a href="https://learn.microsoft.com/en-us/azure/architecture/data-guide/relational-data/data-warehousing">Synapse Analytics</a>. GCP has <a href="https://cloud.google.com/bigquery">BigQuery</a> and then there is <a href="https://www.snowflake.com/en/">Snowflake</a>.</p></li>
<li><p>In a data warehouse, <em>Online analytical processing (OLAP)</em> allows for fast querying and analysis of data from different perspectives. It also helps in pre-aggregating and pre-calculating the information available in the archive.</p></li>
<li><p>Data warehouses are Peta Byte scale (<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/welcome.html">Amazon RedShift</a>, <a href="https://cloud.google.com/blog/products/data-analytics/new-blog-series-bigquery-explained-overview">Google BigQuery</a>, <a href="https://azure.microsoft.com/en-us/updates/introducing-azure-synapse-analytics-a-limitless-analytics-service-with-unmatched-time-to-insight/">Azure Synapse Analytics</a>).</p></li>
<li><p>Data warehouses can have dedicated compute provisioned or be serverless (BigQuery is serverless, Redshift allows both options now).</p></li>
<li><p>Data warehouses now offer integrated ML capabilities, you can build models with SQL and use them in queries (<a href="https://aws.amazon.com/redshift/features/redshift-ml/">Amazon RedShift ML</a>, <a href="https://cloud.google.com/bigquery-ml/docs/introduction">Google BigQuery ML</a>, <a href="https://learn.microsoft.com/en-us/azure/synapse-analytics/machine-learning/what-is-machine-learning">Azure Synapse Analytics ML</a>).</p></li>
<li><p>Integration with reporting and dashboarding tools such as Tableau, Grafana, Looker etc. and data analytics tools such as Spark and data cataloging tools.</p></li>
<li><p>They provide <em>Fine Grained Access Control</em> to the data.</p></li>
</ul>
</section>
<section id="combining-data-lakes-and-data-warehouses" class="slide level2">
<h2>Combining Data Lakes and Data Warehouses</h2>
<p>Combine the flexibility, cost-efficiency, and scale of data lakes with the data management and ACID transactions of data warehouses to provide a single architecture that can enable business intelligence and machine learning on all data.</p>
<ul>
<li><a href="https://aws.amazon.com/blogs/big-data/build-a-lake-house-architecture-on-aws/">Build a lakehouse architecture on AWS</a></li>
<li><a href="https://www.databricks.com/product/data-lakehouse">The Databricks lakehouse platform</a></li>
<li><a href="https://cloud.google.com/blog/products/data-analytics/open-data-lakehouse-on-google-cloud">Open data lakehouse on Google Cloud</a></li>
<li><a href="https://techcommunity.microsoft.com/t5/azure-synapse-analytics-blog/the-data-lakehouse-the-data-warehouse-and-a-modern-data-platform/ba-p/2792337">The data lakehouse, the data warehouse and a modern data platform on Azure</a></li>
</ul>
</section>
<section id="nosql-databases" class="slide level2">
<h2>NoSQL Databases</h2>
<p>At some point we needed to think beyond relation databases, because: - Data became more and more complex (not all data is tabular, thinkin JSON data emitted by an IoT device). - Cost of storage decreased (everything did not need to be stored in the 3rd normal form) - More data on the cloud meant data needed to be placed across different servers (scale-out) - Data needed to be placed intelligently in geo locations of interest - And more…</p>
<blockquote>
<p><strong><a href="https://en.wikipedia.org/wiki/NoSQL">From Wikipedia</a></strong>: A NoSQL (originally referring to “non-SQL” or “non-relational”) database provides a mechanism for storage and retrieval of data that is modeled in means other than the tabular relations used in relational databases. Such databases have existed since the late 1960s, but the name “NoSQL” was only coined in the early 21st century, triggered by the needs of Web 2.0 companies. NoSQL databases are increasingly used in big data and real-time web applications. NoSQL systems are also sometimes called Not only SQL to emphasize that they may support SQL-like query languages or sit alongside SQL databases in polyglot-persistent architectures.</p>
</blockquote>
</section>
<section id="types-of-nosql-databases" class="slide level2">
<h2>Types of NoSQL Databases</h2>
<p>Over time, four major types of NoSQL databases emerged: document databases, key-value databases, wide-column stores, and graph databases.</p>
<ul>
<li><p><strong>Document databases</strong> store data in documents similar to JSON (JavaScript Object Notation) objects. Each document contains pairs of fields and values. The values can typically be a variety of types including things like strings, numbers, booleans, arrays, or objects.</p></li>
<li><p><strong>Key-value databases</strong> are a simpler type of database where each item contains keys and values.</p></li>
<li><p><strong>Wide-column stores</strong> store data in tables, rows, and dynamic columns.</p></li>
<li><p><strong>Graph databases</strong> store data in nodes and edges. Nodes typically store information about people, places, and things, while edges store information about the relationships between the nodes.</p></li>
</ul>
</section>
<section id="examples-of-nosql-databases" class="slide level2">
<h2>Examples of NoSQL Databases</h2>
<table class="caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>NOSQL Database Type</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Document Database</td>
<td>Amazon DocumentDB, MongoDB, Cosmos DB, ArangoDB, Couchbase Server, CouchDB</td>
</tr>
<tr class="even">
<td>Key-value Database</td>
<td>Amazon DynamoDB, Couchbase, Memcached, Redis</td>
</tr>
<tr class="odd">
<td>Wide-column datastores</td>
<td>Amazon DynamoDB, Apache Cassandra, Google Bigtable, Azure Tables</td>
</tr>
<tr class="even">
<td>Graph databases</td>
<td>Amazon Neptune, Neo4j</td>
</tr>
</tbody>
</table>
<p>As a data scientist you would work with a NoSQL database through an SDK/API. Several programming languages are supported including Python, Java, Go, C++ etc.</p>
</section>
<section id="example-of-documents-in-a-document-database" class="slide level2">
<h2>Example of documents in a document database</h2>
<p>Here is an example of a document inserted in a key-value/document database such as MongoDB.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a></a><span class="in">```{bash}</span></span>
<span id="cb1-2"><a></a><span class="kw">{</span></span>
<span id="cb1-3"><a></a>   <span class="st">"name"</span> : <span class="st">"IS 350"</span>,</span>
<span id="cb1-4"><a></a>   <span class="st">"year"</span> : <span class="st">"2015"</span>,</span>
<span id="cb1-5"><a></a>   <span class="st">"make"</span> : <span class="st">"Lexus"</span>,</span>
<span id="cb1-6"><a></a>   <span class="st">"colors"</span> : <span class="pp">[</span><span class="st">"black"</span><span class="ss">,</span><span class="st">"white"</span><span class="ss">,</span><span class="st">"grey"</span><span class="pp">]</span>,</span>
<span id="cb1-7"><a></a>   <span class="st">"spec"</span> : {</span>
<span id="cb1-8"><a></a>      <span class="st">"engine"</span> : <span class="st">"V6"</span>,</span>
<span id="cb1-9"><a></a>      <span class="st">"wheelbase"</span> : <span class="st">"110.2 in"</span>,</span>
<span id="cb1-10"><a></a>      <span class="st">"length"</span> : <span class="st">"183.7 in"</span></span>
<span id="cb1-11"><a></a>   <span class="kw">}</span></span>
<span id="cb1-12"><a></a><span class="er">}</span></span>
<span id="cb1-13"><a></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The same example can be inserted in an Amazon DynamoDB table called (say) <code>Cars</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a></a><span class="in">```{python}</span></span>
<span id="cb2-2"><a></a>database <span class="op">=</span> boto3.resource(<span class="st">'dynamodb'</span>)</span>
<span id="cb2-3"><a></a>table <span class="op">=</span> database.Table(<span class="st">'cars'</span>)</span>
<span id="cb2-4"><a></a>item <span class="op">=</span> {</span>
<span id="cb2-5"><a></a>   <span class="st">"name"</span> : <span class="st">"IS 350"</span>,</span>
<span id="cb2-6"><a></a>   <span class="st">"year"</span> : <span class="st">"2015"</span>,</span>
<span id="cb2-7"><a></a>   <span class="st">"make"</span> : <span class="st">"Lexus"</span>,</span>
<span id="cb2-8"><a></a>   <span class="st">"colors"</span> : [<span class="st">"black"</span>,<span class="st">"white"</span>,<span class="st">"grey"</span>],</span>
<span id="cb2-9"><a></a>   <span class="st">"spec"</span> : {</span>
<span id="cb2-10"><a></a>      <span class="st">"engine"</span> : <span class="st">"V6"</span>,</span>
<span id="cb2-11"><a></a>      <span class="st">"wheelbase"</span> : <span class="st">"110.2 in"</span>,</span>
<span id="cb2-12"><a></a>      <span class="st">"length"</span> : <span class="st">"183.7 in"</span></span>
<span id="cb2-13"><a></a>   }</span>
<span id="cb2-14"><a></a>}</span>
<span id="cb2-15"><a></a>table.put_item(Item <span class="op">=</span> item)</span>
<span id="cb2-16"><a></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="other-data-stores-to-know-about" class="slide level2">
<h2>Other Data stores to know about</h2>
<p>Besides the general concepts about data lkakes, warehouses, different types of databases, there are some purpose built databases that are good to know about.</p>
<ul>
<li>Splunk</li>
<li>Elasticsearch</li>
<li>DuckDB</li>
<li>Many many more…</li>
</ul>
</section>
<section id="splunk" class="slide level2">
<h2>Splunk</h2>
<p>Splunk is a software platform to search, analyze and visualize the <strong>machine-generated</strong> data gathered from the websites, applications, sensors, devices etc. which make up your IT infrastructure and business. See <a href="https://www.splunk.com/">https://www.splunk.com/</a>.</p>
<blockquote>
<p>The logfile we analyzed in assignment 4 <code>s3://bigdatateaching/forensicswiki/2012_logs.txt</code>, is the typical kind of data that gets ingested into Splunk.</p>
</blockquote>

<img data-src="images/splunk-dashboard.png" class="r-stretch"></section>
<section id="elasticsearch" class="slide level2">
<h2>Elasticsearch</h2>
<p><em>From https://www.elastic.co/what-is/elasticsearch, <strong>emphasis mine</strong></em></p>
<p>Elasticsearch is a <strong>distributed</strong>, free and <strong>open search and analytics engine</strong> for all types of data, including <strong>textual, numerical, geospatial, structured, and unstructured</strong>. Elasticsearch is built on Apache Lucene and was first released in 2010 by Elasticsearch N.V. (now known as Elastic).</p>
<p>Commonly referred to as the <strong>ELK Stack</strong> (after <strong>Elasticsearch</strong>, <strong>Logstash</strong>, and <strong>Kibana</strong>), the Elastic Stack now includes a rich collection of lightweight shipping agents known as Beats for sending data to Elasticsearch.</p>
<p>Data is inserted in Elasticsearch <em>indexes</em> as JSON documents using a REST API/SDK.</p>

<img data-src="images/kibana.webp" class="r-stretch"></section>
<section id="duckdb" class="slide level2">
<h2>DuckDB</h2>
<p>DuckDB is an in-process SQL OLAP database management system.</p>
<blockquote>
<p>It is like sqllite, but for analytics. What does this mean? It means that your database runs inside your process, there are no servers to manage, no remote system to connect to. Very snappy, easy to experiment with SQL like syntax.</p>
</blockquote>
<p>DuckDB does <strong>vectorized processing</strong> i.e.&nbsp;loads chunks of data into memory (tries to keep everything in the CPU’s L1 and L2 cache) and is thus able to handle datasets bigger than the amount of RAM available.</p>
<p>DuckDB supports Python, R and a host of other languages.</p>
<p><strong>When to use DuckDB</strong>: when you cannot use Pandas for rapid experimentation with Big Data, especially when combining <a href="https://duckdb.org/2021/12/03/duck-arrow.html">DuckDB with Arrow</a>.</p>
<p><strong>When not to use DuckDB</strong>: DuckDB has a valuable but very niche use-case</p>
</section>
<section id="further-reading" class="slide level2">
<h2>Further Reading</h2>
<p>Please lookup these topics on Google for further reading. Not providing specific links here because they all point to vendor specific products.</p>
<ul>
<li>Data Catalog</li>
<li>Data Governance</li>
<li>Data Mesh</li>
<li>Data Fabric</li>
</ul>
</section>
<section id="lab-analyzing-nyc-taxi-dataset-with-athena" class="slide level2 section">
<h2>Lab: Analyzing NYC-Taxi dataset with Athena</h2>
</section>
<section id="a-simple-example-of-using-duckdb-and-apache-arrow-using-nyc-taxi-dataset" class="slide level2">
<h2>A simple example of using DuckDB and Apache Arrow using NYC Taxi dataset</h2>
<p>This notebook reads the NYC taxi dataset files for the first 6 months of the year 2023 (about ~20 million rows) and runs some analytics operation on this dataset. This dataset is too big to fit into memory.</p>
<p><a href="TBA-2025">GitHub Classroom Link for Lab 5</a></p>
<p><a href="TBA-2025">GitHub Classroom Link for Assignment 5</a></p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>DSAN 6000 Week 5: Data Engineering</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/simplemenu/simplemenu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'simplemenu': {"menubarclass":"menubar","menuclass":"menu","activeclass":"active","activeelement":"li","flat":true,"barhtml":{"header":"<div class='menubar'>\n  <span style='position: absolute; left: 8; padding-left: 8px;'><a href='./index.html'>&larr; Return to Notes</a></span>\n\n  <span style='position: absolute; right: 0; padding-right: 8px; padding-top: 3px; z-index: 10; display: inline-flex !important; align-items: center !important;'>\n    <a id='toggle-01-label' href='#' onclick=\"window.toggleSectionClicked('01'); return(false);\" class='no-decoration'>01</a>\n    <a href='#' onclick=\"window.toggleIconClicked(); return(false);\" class='no-decoration'><i id='section-toggle-icon' class='bi bi-toggle-off' style='padding-top: 0px; padding-left: 3px; padding-right: 3px;'></i></a>\n    <a id='toggle-02-label' href='#' onclick=\"window.toggleSectionClicked('02'); return(false);\" class='no-decoration'>02</a>\n  </span>\n  <ul class='menu'></ul>\n</div>\n","footer":""},"scale":0.5},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, Simplemenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
                // default icon
                link.classList.add("external");
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>